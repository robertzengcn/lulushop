/*!
 * Bootstrap v3.3.5 (http://getbootstrap.com)
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 */
/*!
 * Generated using the Bootstrap Customizer (http://v3.bootcss.com/customize/?id=e311bb28a5bbc4c6817c)
 * Config saved to config.json and https://gist.github.com/e311bb28a5bbc4c6817c
 */
if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(t){"use strict";var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(jQuery),+function(t){"use strict";function e(e,o){return this.each(function(){var s=t(this),n=s.data("bs.modal"),a=t.extend({},i.DEFAULTS,s.data(),"object"==typeof e&&e);n||s.data("bs.modal",n=new i(this,a)),"string"==typeof e?n[e](o):a.show&&n.show(o)})}var i=function(e,i){this.options=i,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};i.VERSION="3.3.5",i.TRANSITION_DURATION=300,i.BACKDROP_TRANSITION_DURATION=150,i.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},i.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},i.prototype.show=function(e){var o=this,s=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(s),this.isShown||s.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){o.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(o.$element)&&(o.ignoreBackdropClick=!0)})}),this.backdrop(function(){var s=t.support.transition&&o.$element.hasClass("fade");o.$element.parent().length||o.$element.appendTo(o.$body),o.$element.show().scrollTop(0),o.adjustDialog(),s&&o.$element[0].offsetWidth,o.$element.addClass("in"),o.enforceFocus();var n=t.Event("shown.bs.modal",{relatedTarget:e});s?o.$dialog.one("bsTransitionEnd",function(){o.$element.trigger("focus").trigger(n)}).emulateTransitionEnd(i.TRANSITION_DURATION):o.$element.trigger("focus").trigger(n)}))},i.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(i.TRANSITION_DURATION):this.hideModal())},i.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},i.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},i.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},i.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.backdrop=function(e){var o=this,s=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var n=t.support.transition&&s;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+s).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),n&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;n?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){o.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):a()}else e&&e()},i.prototype.handleUpdate=function(){this.adjustDialog()},i.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},i.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},i.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},i.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},i.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},i.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var o=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=i,t.fn.modal.noConflict=function(){return t.fn.modal=o,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var o=t(this),s=o.attr("href"),n=t(o.attr("data-target")||s&&s.replace(/.*(?=#[^\s]+$)/,"")),a=n.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(s)&&s},n.data(),o.data());o.is("a")&&i.preventDefault(),n.one("show.bs.modal",function(t){t.isDefaultPrevented()||n.one("hidden.bs.modal",function(){o.is(":visible")&&o.trigger("focus")})}),e.call(n,a,this)})}(jQuery);;function updateorder(){var temp=document.getElementsByName("address");var fump=document.getElementsByName("shipping");var token=document.getElementsByName('securityToken');var tokenvalue=token[0].value;var subcost=$('#subcostnum').html();var symbol=$('#symbol').val();for(var i=0;i<fump.length;i++){if(fump[i].checked){var shipval=fump[i].value;}}
for(var i=0;i<temp.length;i++)
{if(temp[i].checked){var intHot=temp[i].value;}}
$.get("/index.php?main_page=checkout",{fecaction:"ajaxupdate",'id':intHot,'shipping':shipval,'securityToken':tokenvalue},function(data){if(data.stute){$('#shipway').html(data.detail.title+":");$('#shipprice').html(symbol+data.detail.cost);var num=$('#shipprice').html();var st=parseInt(num.replace(/[^0-9]/ig,""));var subnum=parseInt(subcost.replace(/[^0-9]/ig,""));var totcost=st+subnum;$('#totalcostnum').html(symbol+totcost);}},"JSON");}
$(function(){var rad=document.getElementsByName("address");var shi=document.getElementsByName("shipping");for(var i=0;i<shi.length;i++){shi[i].onclick=function(){updateorder();};}});function go_shoppingcart(){window.location.href="/index.php?main_page=shopping_cart";}
function check_address(){var thefirst=$('#s_first').val();var thelast=$('#s_last').val();var addressliine=$('#addressline').val();var city=$('#city').val();var country=$('#country_shipping').val();var state=$('#povince_shipping_s option:selected').val();var state=$('#povince_shipping_i').val();var zipcode=$('#zidval').val();var phonecoe=$('#phonenum').val();var token=document.getElementsByName('securityToken');var tokenvalue=token[0].value;if(thefirst==""){$('#shaddmsg').html('<p><strong>请输入收件人姓名</strong></p>');$("#s_first").addClass("focusedalert");$('#s_first').focus();$('#shaddmsg').removeClass("hide");return false;}
if(addressliine==""){$('#shaddmsg').html('<p><strong>请输入收件人详细地址</strong></p>');$("#addressline").addClass("focusedalert");$('#shaddmsg').removeClass("hide");$('#addressline').focus();return false;}
if(city==""){$('#shaddmsg').html('<p><strong>请输入城市</strong></p>');$("#city").addClass("focusedalert");$('#shaddmsg').removeClass("hide");$('#city').focus();return false;}
if(zipcode==""){$('#shaddmsg').html('<p><strong>请输入邮编</strong></p>');$("#zidval").addClass("focusedalert");$('#shaddmsg').removeClass("hide");$('#zidval').focus();return false;}
if(phonecoe==""){$('#shaddmsg').html('<p><strong>请输入电话号码</strong></p>');$("#phonenum").addClass("focusedalert");$('#shaddmsg').removeClass("hide");$('#phonenum').focus();return false;}
$.ajax({url:'/ajaxcheckpay/',data:{'action':"set_address",'first_name':thefirst,'address':addressliine,'city':city,'zip':zipcode,'country':country,'state':state,'phone':phonecoe,'securityToken':tokenvalue},type:'post',dataType:'json',error:function(data,message){$('#shaddmsg').html('<p><strong>出错了，请稍候再试</strong></p>');$('#shaddmsg').removeClass("hide");},success:function(data){var line="";if(data.stute){$("#adshipform").addClass("hide");line='<div class="radio col-md-10"><label class="col-md-6"><div class="col-md-12 col-xs-12"><input onclick="updateorder()" type="radio" checked="" value="'+data.id+'" name="address"><span id="edit_'+data.id+'" class="limitslab"/>'+data.address+'</span></div></label><div class="col-md-2"><a onclick="edi_address('+data.id+')">编辑</a></div></div>'
$("#addline").prepend(line);}else{$('#shaddmsg').html(data.msg);$('#shaddmsg').removeClass("hide");}}})}
$(document).ready(function(){$("#s_first").blur(function(){$("#s_first").removeClass("focusedalert");});$("#s_last").blur(function(){$("#s_last").removeClass("focusedalert");});$("#addressline").blur(function(){$("#addressline").removeClass("focusedalert");});$("#city").blur(function(){$("#city").removeClass("focusedalert");});$("#zidval").blur(function(){$("#zidval").removeClass("focusedalert");});$("#phonenum").blur(function(){$("#phonenum").removeClass("focusedalert");});});function setSelectChecked(selectId,checkValue){var select=document.getElementById(selectId);for(var i=0;i<select.options.length;i++){if(select.options[i].value==checkValue){select.options[i].selected=true;break;}}};function edi_address(id){var token=document.getElementsByName('securityToken');var tokenvalue=token[0].value;$.ajax({url:'/ajaxcheckpay/',data:{'action':"get_address",'id':id,'securityToken':tokenvalue},type:'post',dataType:'json',error:function(data,message){},success:function(data){if(data.stute){$("#e_first").val(data.date.firstname);$("#e_addressline").val(data.date.street_address);$("#e_city").val(data.date.city);$("#e_zidval").val(data.date.postcode);$("#e_zidval").val(data.date.postcode);$("#e_phonenum").val(data.date.phonenum);$("#e_saveaddid").val(id);setSelectChecked("e_country_shipping",data.date.country_id);var diqucode=data.date.zone_id;$.ajax({url:'/ajaxcheckpay/',data:{'action':"check_country",'code':data.date.country_id,'securityToken':tokenvalue},type:'post',dataType:'json',error:function(data,message){},success:function(data){if(data.stute){if(data.kind==1){var html='';html='<option value="0">please choose State/Province/Region</option>';$('#e_povince_shipping_i').addClass('hide');$('#e_povince_shipping_s').removeClass('hide');$('#e_povince_shipping_s').empty().append(html);html='';$.each(data.date,function(n,value){html+='<option value="'+value.id+'">'+value.name+'</option>';});if(html!=''){$('#e_povince_shipping_s').append(html);if((diqucode!=0)&&(diqucode!="")){setSelectChecked("e_povince_shipping_s",diqucode);}}}else{$('#e_povince_shipping_i').removeClass('hide');$('#e_povince_shipping_s').addClass('hide');$('#e_povince_shipping_s').empty();}}}})
if((data.date.zone_id!=0)&&!isNaN(data.date.zone_id)){}
$('#editaddress').modal('show');}}})}
function add_address(){$("#s_first").val("");$("#s_last").val("");$("#addressline").val("");$("#povince_shipping_i").val("");$("#city").val("");$("#zidval").val("");$("#phonenum").val("");$("#addressline_sec").val("");$("#adshipform").removeClass("hide");}
function cancel_address(){$("#adshipform").addClass("hide");}
function cancel_update(){$('#editaddress').modal('hide');}
function update_address(){var efirst=$("#e_first").val();var elast=$("#e_last").val();var eaddress=$("#e_addressline").val();var ecity=$("#e_city").val();var ephone=$("#e_phonenum").val();var ezip=$("#e_zidval").val();var addid=$("#e_saveaddid").val();var ecountry=$('#e_country_shipping option:selected').val();var token=document.getElementsByName('securityToken');var tokenvalue=token[0].value;if($('#e_povince_shipping_i').hasClass("hide")){var estate=$('#e_povince_shipping_s option:selected').val();}else{var estate=$('#e_povince_shipping_i').val();}
if(efirst==""){$('#eadd_msg').html('<p><strong>please enter your first name</strong></p>');$("#e_first").addClass("focusedalert");$('#e_first').focus();$('#eadd_msg').removeClass("hide");return false;}
if(elast==""){$('#eadd_msg').html('<p><strong>please enter your last name</strong></p>');$("#e_last").addClass("focusedalert");$('#eadd_msg').removeClass("hide");$('#e_last').focus();return false;}
if(eaddress==""){$('#eadd_msg').html('<p><strong>please enter your address</strong></p>');$("#e_last").addClass("focusedalert");$('#eadd_msg').removeClass("hide");$('#e_last').focus();return false;}
if(ecity==""){$('#eadd_msg').html('<p><strong>please enter your city</strong></p>');$("#e_city").addClass("focusedalert");$('#eadd_msg').removeClass("hide");$('#e_city').focus();return false;}
if(ezip==""){$('#eadd_msg').html('<p><strong>please enter your zip code</strong></p>');$("#e_zidval").addClass("focusedalert");$('#eadd_msg').removeClass("hide");$('#e_zidval').focus();return false;}
if(ephone==""){$('#eadd_msg').html('<p><strong>please enter your phone number</strong></p>');$("#e_phonenum").addClass("focusedalert");$('#eadd_msg').removeClass("hide");$('#e_phonenum').focus();return false;}
if(ecountry==""){$('#eadd_msg').html('<p><strong>please choose your country</strong></p>');$("#e_country_shipping").addClass("focusedalert");$('#eadd_msg').removeClass("hide");return false;}
$.ajax({url:'/ajaxcheckpay/',data:{'action':"update_address",'first_name':efirst,'last_name':elast,'address':eaddress,'city':ecity,'zip':ezip,'country':ecountry,'state':estate,'saveaddid':addid,'phone':ephone,'securityToken':tokenvalue},type:'post',dataType:'json',error:function(data,message){},success:function(data){if(data.stute){$('#editaddress').modal('hide');$('#edit_'+data.id).html(data.address);}}})}